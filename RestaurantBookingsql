CREATE TABLE restaurant_availability (
  fsq_id VARCHAR2(50) PRIMARY KEY,
  name VARCHAR2(100),
  formatted_address VARCHAR2(255),
  total_seats NUMBER
);

CREATE TABLE time_slots (
  id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  fsq_id VARCHAR2(50),
  time_slot VARCHAR2(20),
  booked_seats NUMBER,
  available CHAR(1) CHECK (available IN ('Y', 'N')),
  CONSTRAINT fk_fsq_id FOREIGN KEY (fsq_id) REFERENCES restaurant_availability(fsq_id)
);

CREATE TABLE customer_table (
  cusname            VARCHAR2(100),
  age                NUMBER(3),
  gender             VARCHAR2(10),
  mobile             VARCHAR2(15),
  restaurantbooked   VARCHAR2(150),
  timing             DATE,
  noofseats          NUMBER(3)
);

//newly created customer_table to store selected Seats in array as a string
CREATE TABLE customer_table (
  cusname VARCHAR2(100),
  age NUMBER,
  gender VARCHAR2(10),
  mobile VARCHAR2(15),
  restaurantbooked VARCHAR2(100),
  timing DATE,
  selectedseats VARCHAR2(200) -- to store seats as comma-separated string like '12,13,14'
);]
drop table customer_table;
ALTER TABLE customer_table ADD food_orders CLOB;

SELECT * FROM customer_table WHERE restaurantbooked = 'The Rahman Biriyani Centre' AND timing = TO_DATE('2025-05-11 20:00:00', 'YYYY-MM-DD HH24:MI:SS') AND mobile = '1234567890' FETCH FIRST 1 ROWS ONLY;

select * from customer_table;   
drop table customer_table;
truncate table customer_table;
INSERT INTO customer_table (
  cusname, age, gender, mobile,n
  restaurantbooked, timing, noofseats
) VALUES (
  'Selva', 21, 'male', '4153556',
  'Small Canteen PEC', TO_DATE('2:00 PM', 'HH:MI AM'), 12
);
commit;

truncate table customer_table;

INSERT INTO customer_table (
      cusname, age, gender, mobile,
      restaurantbooked, timing, noofseats
    ) VALUES (
      'Selva', 21 ,'male','4153556','Alhuda Restaurant', TO_DATE('10:00 AM', 'HH:MI AM'),3);
create user selva123 identified by "selva123";

SELECT * FROM customer_table WHERE restaurantbooked = 'The Rahman Biriyani Centre' AND timing = TO_DATE('2025-21-05 12:00:00', 'YYYY-dd-mm HH24:MI:SS') AND mobile = '1112223334' FETCH FIRST 1 ROWS ONLY


CREATE TABLE customer_table (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  cusname VARCHAR2(100),
  age NUMBER,
  gender VARCHAR2(10),
  mobile VARCHAR2(15),
  restaurantbooked VARCHAR2(100),
  timing DATE,
  selected_seats VARCHAR2(255),
  email VARCHAR2(100),
  price number(100)
);

